<div class="row">

    <div class="container ml-auto">

        <h1 class="mt-4">{{(post$ | async)?.title}}</h1>
        <div class="d-flex align-items-center my-2"><img class="mr-3 rounded-circle avatar" src="{{(post$ | async)?.author.avatar}}"
                alt="">
            <p>
                {{(post$ | async)?.author.username}}
            </p>
        </div>

        <img class="img-fluid rounded" src="{{(post$ | async)?.image}}" alt="image">

        <hr>

        <!-- Post Content -->
        <p class="lead mt-3">{{(post$ | async)?.body}}</p>
        <button type="button" class="btn btn-link my-2 pl-0" [routerLink]="['/posts', (post$ | async)?._id, 'edit']"
            *ngIf="(currentUser | async)?.username == (post$ | async)?.author?.username">Edit post</button>
        <hr>

        <app-comment *ngFor='let comment of (comments$ | async)' [comment]='comment'></app-comment>

        <form (ngSubmit)="onComment(f)" #f="ngForm">
            <textarea rows="3" ngModel required minlength="12" type="text" class="form-control my-5" name="comment"></textarea>
            <button type="submit" class="btn btn-outline-primary btn-sm mt-2 mb-4" [disabled]="!f.valid && (isLoggedIn | async)">Add
                comment</button>
        </form>
    </div>
</div>